<script src="https://unpkg.com/terser@3.8.2/dist/browser.bundle.js"></script>

<h2><a href="https://github.com/fabiosantoscode/terser">Terser</a>-online (ES6 minifier)</h2>
<input type=checkbox id=check> show <a href="https://github.com/fabiosantoscode/terser#compress-options">options</a>
<br>
<br>
<textarea id=input placeholder=input></textarea>
<textarea id=options>// options
{
  toplevel: true,
  compress: {
    passes: 3,
    unsafe: true
    pure_getters: true
  },
}</textarea>
<textarea id=output placeholder=output></textarea>

<style>
h2 { margin: 0 0 5px; }
body { font-family: arial; }
textarea { width: calc(50vw - 25px); height: calc(100vh - 100px); margin: 0 10px 0 0; float: left; }
textarea ~ textarea { margin: 0 }
#options { display: none; }
:checked ~ #options { display: block; }
:checked ~ textarea { width: 31vw; }
</style>

<script>
check.checked = 0;
input.value = "";
output.value = "";
onload = function(){
  oninput = function(){
    try{eval("opt = " + options.value)} catch(e){ opt = {} }
    result = Terser.minify("onload = function(){" + input.value + "}", opt);
    if(result.error) output.value = "// error\n" + result.error;
    else output.value = result.code.length ? "// output (" + (result.code.length - 1) + "b)\n" + result.code.slice(0, -1).replace(/-- >/g, "-->").replace(/onload=function\(\){(var )?(.*)}/,"$2") : "// output";
  }
}
</script>